
<div class="navbar dashboard dashbord-nav">
  <div class="container">
    <div class="dashbord-nav__primary pull-left">
      <span class="dashbord-nav__primary--title" translate="clinic.home.createLabel">Create Clinic</span>
    </div>
    <div class="dashbord-nav__secondary navbar-right">
      <span class="dashbord-nav__secondary--create-new" translate=""></span>
    </div>
  </div>
  <span ng-show="clinicStatus.isMessage">{{clinicStatus.message}}</span>
</div>
<div class="dashboard dashboard--content padding-bottom-ls">  
  <form name="form" ng-submit="createClinic()" novalidate>
    <div class="container dashboard__form">
      <div class="row margin-top-xl">
        <div class="col-md-16 row">
          <div class="col-md-12 row">
            <span class="dashboard__form--type" translate="clinic.general-details"></span>
          </div>
          <div class="col-md-4 row user-required">
            <span translate="clinic.required-field"></span> 
          </div>
        </div>

        <div class="col-md-16 row margin-top">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.clinic-type"></span>
              <span class="">*</span>
            </div>
            <div class="col-md-10 dashboard__form__input--option">
              <div class="custom-dropdown">
                <select name="type" ng-model="clinic.type">
                  <option selected translate="clinic.clinic-option.parent-clinic" value="parent"></option>
                  <option translate="clinic.clinic-option.satellite-clinic" value="child"></option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-md-7 row col-md-offset-2" ng-if="clinic.type === 'child'">
            <div class="col-md-6 dashboard__form--label">
              <span class="dashboard__form--type" translate="clinic.select-parent"></span>
              <span class="">*</span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" name="parentClinicName" ng-model="clinic.parentClinic.name" required ng-keyup="getParentClinic()">
              <div class="dashboard-page__user-list__detailed__list">
                <div ng-repeat="clinic in clinics | filter:clinic.parentClinic.name">
                  <div ng-click="selectClinic(clinic)" class="dashboard-page__user-list__detailed__list--details">
                    <span class="user-detail">
                      {{clinic.name}}
                    </span>
                    <span class="user-role">
                      {{clinic.city}}
                    </span>
                  </div>
                </div>
              </div>
              <div ng-show="(form.parentClinicName.$dirty && form.parentClinicName.$invalid) || submitted">
                <span class="has-error" ng-show="form.parentClinicName.$error.required">
                  Parent Clinic Name is required.
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-16 row margin-top">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.clinic-name"></span>
              <span class="">*</span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" ng-model="clinic.name" name="name" required>
              <div ng-show="(form.name.$dirty && form.name.$invalid) || submitted">
                <span class="has-error" ng-show="form.name.$error.required">
                  Clinic Name is required.
                </span>
              </div>
            </div>
          </div>
          <div class="col-md-7 row col-md-offset-2">
            <div class="col-md-6 dashboard__form--label">
              <span class="dashboard__form--type" translate="clinic.hr-id"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" ng-model="clinic.hillromId" name="HRID">
            </div>
          </div>
        </div>
      </div>
      <div class="row margin-top-xl">
        <div class="col-md-16">
          <span class="dashboard__form--type" translate="clinic.personal-details"></span>
        </div>
        <div class="col-md-16 row margin-top">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.address"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" ng-model="clinic.address" name="address" ng-maxlength="100">
              <div ng-show="(form.address.$dirty && form.address.$invalid) || submitted">
                <span class="has-error" ng-show="form.address.$error.maxlength">
                  Address cannot be longer than 100 characters.
                </span>
              </div>
            </div>
          </div>
          <div class="col-md-7 row col-md-offset-2">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.city"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" ng-model="clinic.city" name="city" ng-maxlength=15>
              <div ng-show="(form.city.$dirty && form.city.$invalid)">
                <span class="has-error" ng-show="form.city.$error.maxlength">
                  City cannot be longer than 15 characters.
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-16 row margin-top">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.state"></span>
            </div>
            <div class="col-md-6 dashboard__form__input--option">
              <div class="custom-dropdown">
                <select name="state" ng-model="clinic.state" ng-options="state.name as state.name for state in states">
                  <option selected="selected">Select a state</option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-md-7 row col-md-offset-2">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.zipcode"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" name="zip" maxlength="5" ng-pattern="/^[0-9]{5}$/" ng-model="clinic.zipcode">
              <div ng-show="(form.zip.$dirty && form.zip.$invalid) || submitted">
                <span class="has-error" ng-show="form.zip.$error.pattern">
                  Zip Code is invalid.
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-16 row margin-top">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.clinic-phone"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" name="phone" ng-pattern="/^[0-9]{10}$/" ng-model="clinic.phoneNumber">
              <div ng-show="(form.phone.$dirty && form.phone.$invalid) || submitted">
                <span class="has-error" ng-show="form.phone.$error.pattern">
                  Phone Number is invalid.
                </span>
              </div>
            </div>
          </div>
          <div class="col-md-7 row col-md-offset-2">
            <div class="col-md-6 dashboard__form--label">
              <span class="" translate="clinic.fax-number"></span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <input class="" type="text" name="fax" ng-pattern="/^[0-9]{10}$/" ng-model="clinic.faxNumber">
              <div ng-show="(form.fax.$dirty && form.fax.$invalid) || submitted">
                <span class="has-error" ng-show="form.fax.$error.pattern">
                  Fax Number is invalid.
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-16 row margin-top" ng-show="clinicStatus.editMode">
          <div class="col-md-7 row">
            <div class="col-md-6 dashboard__form--label">
              <span class="">Clinic ID</span>
            </div>
            <div class="col-md-10 dashboard__form--input">
              <span class="">{{clinic.clinicID}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-16 row margin-top">
          <div class="row padding-right-xl">
            <button type="submit" ng-show="clinicStatus.isCreate" class="hillrom-btn btn-submit float-right" translate="clinic.submit-button-text">Submit</button>
            <button type="button" ng-click="cancel()" ng-show="clinicStatus.isCreate" class="hillrom-btn btn-submit float-right" >Cancel</button>
            <button type="button" ng-click="deleteClinic()" ng-show="!clinicStatus.isCreate" class="hillrom-btn btn-submit float-right">Diassociate</button>

            <button type="submit" ng-click="formSubmit()" ng-show="!clinicStatus.isCreate" class="hillrom-btn btn-submit float-right">Update</button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
